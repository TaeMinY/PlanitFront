(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48f76bb1"],{"41d1":function(t,e,a){t.exports=a.p+"img/undraw_article_3.7e682140.svg"},"56bb":function(t,e,a){t.exports=a.p+"img/undraw_article_2.4102394e.svg"},"5c56":function(t,e,a){var s={"./undraw_article_1.svg":"84cc","./undraw_article_2.svg":"56bb","./undraw_article_3.svg":"41d1","./undraw_article_4.svg":"9bd4"};function i(t){var e=n(t);return a(e)}function n(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=n,t.exports=i,i.id="5c56"},"84cc":function(t,e,a){t.exports=a.p+"img/undraw_article_1.b838c666.svg"},"8b36":function(t,e,a){},"90b6":function(t,e,a){t.exports=a.p+"img/playlist_add-24px.70b470fa.svg"},9648:function(t,e,a){"use strict";var s=a("8b36"),i=a.n(s);i.a},"9bd4":function(t,e,a){t.exports=a.p+"img/undraw_article_4.52be3144.svg"},d88f:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"see"},[s("div",{staticClass:"see__title"},[s("div",[t._v("Community")]),s("img",{staticStyle:{cursor:"pointer"},attrs:{alt:"create",src:a("90b6"),width:"42px"},on:{click:function(e){return t.create()}}})]),t._l(t.data,(function(e,i){return s("div",{key:i},[s("div",{staticClass:"see__box"},[s("div",{staticStyle:{display:"flex","align-items":"center"}},[s("div",{staticClass:"see__left"},[s("div",{staticClass:"see__article__profile"},[s("div",{staticStyle:{display:"flex","align-items":"center"}},[s("img",{staticClass:"see__article__image",staticStyle:{"object-fit":"cover"},attrs:{src:"http://taemin.dev/planit/"+e.email+".png",alt:"profile",width:"42px",height:"42px"}}),s("div",{staticClass:"see__article__name"},[t._v(t._s(e.name))])]),t.checkLike(e)?s("div",{staticClass:"see__article__unlike",on:{click:function(a){return t.like(e)}}},[t._v("응원중 "+t._s(e.like))]):s("div",{staticClass:"see__article__like",on:{click:function(a){return t.like(e)}}},[t._v("응원해요 "+t._s(e.like))])]),s("div",{staticClass:"see__article__title"},[t._v(t._s(e.data.title))]),s("div",{staticClass:"see__article__subtitle"},[t._v(t._s(e.data.text))]),s("div",{staticClass:"see__article__date"},[t._v(t._s(e.data.startDay)+" ~ "+t._s(e.data.endDay))]),s("div",{staticClass:"see__article__text"},[t._v(t._s(e.text))]),s("div",{staticClass:"see__article__comment"},[s("input",{staticClass:"see__article__comment__input",attrs:{type:"text",placeholder:"댓글 달기",id:e._id},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.submit(e._id,i)}}}),s("input",{staticClass:"see__article__comment__submit",attrs:{type:"submit",value:"등록"},on:{click:function(a){return t.submit(e._id,i)}}})])]),s("div",{staticClass:"see__right"},[s("img",{staticClass:"see__article__undraw",attrs:{src:a("5c56")("./undraw_article_"+(i%4+1)+".svg"),alt:"article image"}})])]),s("div",{staticClass:"see__left"},[t.statusif(e._id)?s("div",[1!=e.status?s("div",{staticClass:"see__article__comment__enable",on:{click:function(e){return t.status(i)}}},[t._v("▼ Show Comments")]):s("div",{staticClass:"see__article__comment__enable",on:{click:function(e){return t.status(i)}}},[t._v("▲ Hide Comments")])]):t._e(),1==e.status?s("div",t._l(t.commentData,(function(a,i){return a.post_id==e._id?s("div",{key:i},[s("div",{staticClass:"see__comment"},[s("div",{staticStyle:{display:"flex","align-items":"center"}},[s("img",{staticClass:"see__comment__image",attrs:{src:"http://taemin.dev/planit/"+a.email+".png",alt:"comment profile"}}),s("div",{staticClass:"see__comment__name"},[t._v(t._s(a.name))]),s("div",{staticClass:"see__comment__text"},[t._v(t._s(a.text))])]),s("div",{staticStyle:{display:"flex","align-items":"center"}},[s("div",{staticClass:"see__comment__time"},[t._v(t._s(a.time))]),a.email==t.userdata.email?s("div",{staticClass:"see__comment__delete",on:{click:function(e){return t.deletecomment(a)}}},[t._v("×")]):t._e()])])]):t._e()})),0):t._e()])])])}))],2)},i=[],n=(a("d81d"),{name:"community",data:function(){return{data:[],commentData:[],commentStatus:[],userdata:{},enter:!1}},computed:{},components:{},created:function(){var t=this;this.$store.dispatch("token",{token:localStorage.getItem("token")}).then((function(e){1==e.data.result&&(t.userdata=e.data.userdata)})).catch((function(t){})),this.$store.dispatch("FIND__POST",{token:localStorage.getItem("token")}).then((function(e){if(1==e.data.result){var a={status:!0};t.data=e.data.userdata.map((function(t){return Object.assign(t,a)}))}})).catch((function(t){})),this.$store.dispatch("FIND__COMMENT__ALL",{}).then((function(e){1==e.data.result&&(t.commentData=e.data.userdata)})).catch((function(t){}))},methods:{deletecomment:function(t){var e=this;this.$store.dispatch("DELETE__COMMENT",{token:localStorage.getItem("token"),_id:t._id}).then((function(t){e.$store.dispatch("FIND__COMMENT__ALL",{}).then((function(t){1==t.data.result&&(e.commentData=t.data.userdata)})).catch((function(t){}))}))},checkLike:function(t){for(var e=0;e<t.like_users.length;e++)if(t.like_users[e]==this.userdata.email)return!0;return!1},like:function(t){var e=this;this.$store.dispatch("POST__LIKE",{token:localStorage.getItem("token"),_id:t._id}).then((function(t){e.$store.dispatch("FIND__POST",{token:localStorage.getItem("token")}).then((function(t){if(1==t.data.result){var a={status:!0};e.data=t.data.userdata.map((function(t){return Object.assign(t,a)}))}})).catch((function(t){}))}))},statusif:function(t){for(var e=!1,a=0;a<this.commentData.length;a++)this.commentData[a].post_id==t&&(e=!0);return 1==e?(console.log("true"),!0):(console.log("false"),!1)},status:function(t){console.log(t),this.data[t].status=!this.data[t].status},create:function(){this.$router.push("/wrap/community/create")},submit:function(t,e){var a=this;if(0==this.enter){this.enter=!0;var s=new Date,i=s.getFullYear()+"-"+(s.getMonth()+1)+"-"+s.getDate()+"-"+s.getHours()+"-"+s.getMinutes()+"-"+s.getSeconds();this.$store.dispatch("CREATE__COMMENT",{token:localStorage.getItem("token"),_id:t,text:document.getElementById(t).value,time:i}).then((function(s){1==s.data.result&&(console.log("요청확인"),a.$store.dispatch("FIND__COMMENT__ALL",{}).then((function(s){1==s.data.result&&(a.commentData=s.data.userdata,document.getElementById(t).value="",a.data[e].status=!0,a.enter=!1)})).catch((function(t){console.log(t)})))})).catch((function(t){console.log(t)}))}}}}),c=n,_=(a("9648"),a("2877")),r=Object(_["a"])(c,s,i,!1,null,"2cc6df28",null);e["default"]=r.exports}}]);
//# sourceMappingURL=chunk-48f76bb1.f0a4af44.js.map